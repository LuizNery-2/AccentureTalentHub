<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="description" content="">
	<meta name="keywords" content="palavras,separadas,por,vírgulas">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0">
	<title>AccentureTalentHub | Salas</title>
	<link rel="shortcut icon" href="../static/img/logo_accenture.png" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="../static/css/geralstyle.css">
    <link rel="stylesheet" type="text/css" href="../static/css/curso.css">
    <link rel="stylesheet" type="text/css" href="../static/css/home.css">
    <link rel="stylesheet" type="text/css" href="../static/css/salas.css">


    <!-- Importação dos arquivos CSS para barra de pesquisa -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <!-- Importação dos arquivos Jquary -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>
<body id="">
    <main>
        <nav id="menu-desktop">
            <ul class="lista_dashboard">
                <li id="logo">
                    <a href="home.html">
                        <img src="../static/img/logo_menu.png">
                    </a>
                </li>
                <li class="active">
                    <a href="curso.html">
                        <img class="icon_menu" src="../static/img/icon_cursos.png">
                    </a>
                </li>
                <li>
                    <a href="salas.html">
                        <img class="icon_menu" src="../static/img/icon_trilhas.png">
                    </a>
                </li>
                <li>
                    <a href="desenvol_pessoal.html">
                        <img class="icon_menu" src="../static/img/icon_dp.png">
                    </a>
                </li>
                <li>
                    <a href="curso_concluido.html">
                        <img class="icon_menu" src="../static/img/icon_cursos_concluidos.png">
                    </a>
                </li>
            </ul>
    
            <ul>
                <li id="icon_usuario_menu" class="lista_dashboard">
                    <img class="icon_menu" src="../static/img/icon_perfil.png">
                </li>
            </ul>
        </nav>

        <!--  Este nav só será ativado quando as páginas estiverem no modo responsivo! -->
        <!--  INICIO DO NAV RESPONSIVO -->
        <div id="icon-menu-responsivo">
            <img src="../static/img/menu-aberto.png">
        </div>
        
        <nav class="nav-responsivo">
            <ul class="lista_dashboard-responsivo">
                <li id="icon_fechar-responsivo">
                    <img src="../static/img/icon_fechar.png">
                </li>
                <li>
                    <a id="logo-responsivo" href="home.html">
                        <img src="../static/img/logo-responsivo.png">
                        <p>AccentureTalentHub</p>
                    </a>
                </li>
                <li class="active-responsivo">
                    <a class="link-page-responsivo" href="curso.html">
                        <img class="icon_menu-responsivo" src="../static/img/icon_cursos.png">
                        <p>Cursos</p>
                    </a>         
                </li>
                <li>
                    <a class="link-page-responsivo" href="salas.html">
                        <img class="icon_menu-responsivo" src="../static/img/icon_trilhas.png">
                        <p>Salas</p>
                    </a>                
                </li>
                <li>
                    <a class="link-page-responsivo" href="desenvol_pessoal.html">
                        <img class="icon_menu-responsivo" src="../static/img/icon_dp.png">
                        <p>Mural DPS</p>
                    </a> 
                </li>
                <li>
                    <a class="link-page-responsivo" href="curso_concluido.html">
                        <img class="icon_menu-responsivo" src="../static/img/icon_cursos_concluidos.png">
                        <p>Cursos Concluídos</p>
                    </a>
                </li>
            </ul>
            <ul class="lista_dashboard-responsivo">
                <li id="icon_usuario_menu-responsivo" class="lista_dashboard-responsivo">
                    <div class="link-page-responsivo">
                        <img class="icon_menu-responsivo" src="../static/img/icon_perfil.png">
                        <p>Perfil</p>
                    </div>
                </li>
            </ul>
        </nav>

        <!--  FIM DO NAV RESPONSIVO -->

        <div id="menu-suspenso">
            <ul>
                <li><a href="perfil.html">Perfil</a></li>
                <li><a href="index.html">Sair</a></li>
            </ul>
        </div>
    
        <section id="box_info_dashboard">
            <header style="text-align: left; display: block;">
                <h1 id="title_curso" style="text-align: left;">Salas</h1>
                <br>
                <div id="box_perfil">
                    <div id="box_info_perfil">  
                        <div style="width: 100%;">
                            <div class="box_filtro">
                                <img id="Icon_filtrar" src="../static/img/Icon_filtrar.png">
                                <ul class="lista_filtro">
                                    <li>
                                        <p>Recentes</p>
                                        <img class="icon_fechar" src="../static/img/icon_fechar.png">
                                    </li>
                                    <li style="visibility: hidden;">
                                        <p>Recentes</p>
                                        <img class="icon_fechar" src="../static/img/icon_fechar.png">
                                    </li>
                                    <li style="visibility: hidden;">
                                        <p>Recentes</p>
                                        <img class="icon_fechar" src="../static/img/icon_fechar.png">
                                    </li>
                                </ul>
        
                                <div style="left: 15%;" class="search-container">
                                    <input type="search">
                                    <i class="fas fa-search"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            
            <div class="box_trilhas">

                
                <div class="box_escolha_cusos" id="salasContainer">
                    <!-- O conteúdo será preenchido dinamicamente aqui -->
                </div>
            </div>
        </section>
    </main>
    
    <footer class="footer_geral">
        <p>© 2023 AccentureTalentHub.Inc | Todos os direitos reservados </p>
    </footer>

    <script>
        $(document).ready(function(){

            $("#minha_sala").click(function() {
                window.location.href = 'minha_sala_de_aula.html';
            })

            $(".sala_de_aula").click(function() {
                window.location.href = 'sala_de_aula.html';
            })

        });
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const url = "http://localhost:8080/salasUsuario/" + localStorage.getItem('idUsuario');
            // Função para buscar salas do servidor
            function getSalas() {
                fetch(url)
                    .then(response => response.json())
                    .then(data => showSalas(data))
                    .catch(error => console.error('Erro ao buscar salas:', error));
            }

            // Função para exibir as salas na página
            function showSalas(salas) {
                const salasContainer = document.getElementById("salasContainer");
                salasContainer.innerHTML = ""; // Limpar conteúdo existente

                salas.forEach(sala => {
                const centerCursoDiv = document.createElement("div");
                centerCursoDiv.className = "center_cursos";

                const salaDiv = document.createElement("div");
                salaDiv.className = "box_curso";

                salaDiv.innerHTML = `
                    <div class="info_curso">
                        <img src="${sala.banner}" alt="Imagem do Curso">
                        <div class="info_curso_txt">
                            <h2>${sala.nome}</h2>
                            
                            <p>${sala.descricao}</p>
                            
                            <button id="minha_sala"><a style="text-decoration: none; color: black;" href="/entrar-sala/${sala.id}" class="btn btn-primary">Entrar</a></button>
                        </div>
                    </div>
                `;

                centerCursoDiv.appendChild(salaDiv);
                salasContainer.appendChild(centerCursoDiv);
                });
            }

            // Função para formatar a data (você pode ajustar conforme necessário)
            function formatDate(dateString) {
                const options = { year: 'numeric', month: 'numeric', day: 'numeric' };
                return new Date(dateString).toLocaleDateString(undefined, options);
            }

            // Chamar a função para buscar salas ao carregar a página
            getSalas();
        });

    </script>

</body>
</html>